<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="mblz_invernada_account_move_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.internal_layout">

                    <div class="page" style="font-size:11px">
                        <h2 t-field="o.name" />
                        <div class="row">
                            <div class="col-xs-2">
                                <strong>Compañía:</strong>
                                <p t-field="o.company_id" />
                            </div>
                            <div class="col-xs-2">
                                <strong>Divisa:</strong>
                                <p t-field="o.company_id.currency_id.name" />
                            </div>
                            <div class="col-xs-2">
                                <t t-if="o.date_from">
                                    <strong>Fecha:</strong>
                                    <span t-field="o.date" />
                                    <br />
                                </t>
                                
                            </div>
                        </div>

                        <!-- <t>
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th class="col-xs-1">Fecha</th>
                                        <th class="col-xs-1">Diario</th>
                                        <th class="col-xs-1">Cuenta</th>
                                        <th class="col-xs-1">Cta. Analítica</th>
                                        <th class="col-xs-1">Movimientos</th>
                                        <th class="col-xs-3">Ref</th>
                                        <th class="col-xs-3">Empresa</th>
                                        <th class="col-xs-1">Al día</th>
                                        <th class="col-xs-1 text-right">Débito</th>
                                        <th class="col-xs-1 text-right">Crédito</th>
                                        <th class="col-xs-1 text-right">Balance</th>
                                        <th class="col-xs-1 text-right" groups="base.group_multi_currency">Moneda ext.</th>
                                        <th class="col-xs-1">Match.</th>
                                    </tr>
                                </thead>
                                <t t-foreach="o.report_id.report_object_ids" t-as="object">
                                    <tbody t-if="object.line_ids" style="border-bottom: 1px solid;page-break-inside: avoid">
                                        <tr style="border-bottom: 1px solid #ddd;">
                                            <td colspan="12">
                                                <strong t-if="o.report_type == 'account'" t-field="object.account_id" />
                                                <strong t-if="o.report_type == 'partner'" t-field="object.partner_id" />
                                                <strong t-if="o.report_type == 'journal'" t-field="object.journal_id" />
                                                <strong t-if="o.report_type == 'analytic'" t-field="object.analytic_account_id" />
                                            </td>
                                            <td></td>
                                        </tr>
                                        <tr t-foreach="object.line_ids" t-as="l">
                                            <td style="white-space:nowrap">
                                                <i t-if="l.view_type == 'init' and l.line_type == '1_init_line'" t-field="l.date"></i>
                                                <i t-if="l.view_type == 'init' and l.line_type == '0_init'">INICIAL</i>
                                                <strong t-if="l.view_type == 'total'">Total</strong>
                                                <span t-if="l.view_type == 'normal' and l.line_type == '2_line'" t-field="l.date"></span>
                                                <span t-if="l.view_type == 'normal' and l.line_type == '3_compact'">Compacta</span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.journal_id.code"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.journal_id.code"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.account_id.code"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.account_id.code"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.analytic_account_id"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.analytic_account_id"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.move_id"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.move_id"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.move_line_id.ref"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.move_line_id.ref"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.partner_id"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.partner_id"></span>
                                            </td>
                                            <td>
                                                <i t-if="l.view_type == 'init'" t-field="l.date_maturity"></i>
                                                <span t-if="l.view_type == 'normal'" t-field="l.date_maturity"></span>
                                            </td>
                                            <td class="text-right">
                                                <div t-if="l.debit and l.view_type == 'normal'">
                                                    <span t-field="l.debit" />
                                                </div>
                                                <div t-if="l.debit and l.view_type == 'init'">
                                                    <i t-field="l.debit" />
                                                </div>
                                                <div t-if="l.debit and l.view_type == 'total'">
                                                    <strong t-field="l.debit" />
                                                </div>
                                            </td>
                                            <td class="text-right">
                                                <div t-if="l.credit and l.view_type == 'normal'">
                                                    <span t-field="l.credit" />
                                                </div>
                                                <div t-if="l.credit and l.view_type == 'init'">
                                                    <i t-field="l.credit" />
                                                </div>
                                                <div t-if="l.credit and l.view_type == 'total'">
                                                    <strong t-field="l.credit" />
                                                </div>
                                            </td>
                                            <td class="text-right" style="white-space:nowrap">
                                                <div t-if="l.view_type == 'normal'">
                                                    <span t-field="l.cumul_balance" />
                                                </div>
                                                <div t-if="l.view_type == 'init'">
                                                    <i t-field="l.cumul_balance" />
                                                </div>
                                                <div t-if="l.view_type == 'total'">
                                                    <strong t-field="l.cumul_balance" />
                                                </div>
                                            </td>
                                            <td class="text-right" style="white-space:nowrap" groups="base.group_multi_currency">
                                                <div t-if="l.view_type == 'normal' and l.amount_currency">
                                                    <span t-field="l.amount_currency" />
                                                </div>
                                            </td>
                                            <td>
                                                <span t-if="l.reconciled" t-field="l.full_reconcile_id" />
                                                <span t-if="not l.reconciled and l.full_reconcile_id">*</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </t>
                            </table>
                            
                            
                        </t> -->
                    </div>
                </t>
            </t>
        </t>
    </template>

    <report 
		id="action_report_account_move" 
		model="account.move"
		string="Asiento Contable MBLZ" 
		report_type="qweb-pdf"
		name="mblz_la_invernada.mblz_invernada_account_move_report" 
		file="mblz_la_invernada.mblz_invernada_account_move_report"
		menu="True" />
</odoo>
