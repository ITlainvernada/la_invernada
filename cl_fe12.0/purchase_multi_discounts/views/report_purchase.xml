<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="purchase_discount.report_purchaseorder_document" inherit_id="purchase.report_purchaseorder_document">
        <xpath expr="//table[1]/thead/tr//th[last()]" position="before">
            <th t-if="o.print_discount" class="text-right" groups="sale.group_discount_per_so_line">Disc.(%)</th>
            <th t-if="o.print_discount_amount" class="text-right" groups="sale.group_discount_per_so_line">Disc. Amount</th>
            <th t-if="o.print_discount" class="text-right" groups="sale.group_discount_per_so_line">Disc. Unit Price</th>
        </xpath>
        <xpath expr="//td[span[@t-field='line.price_subtotal']]" position="before">
            <td t-if="o.print_discount" class="text-right" groups="sale.group_discount_per_so_line">
                <span t-field="line.discount"/> %
            </td>
            <td t-if="o.print_discount_amount" class="text-right" groups="sale.group_discount_per_so_line">
                <span t-field="line.discount_amount"/>
            </td>
            <td t-if="o.print_discount" class="text-right" groups="sale.group_discount_per_so_line">
                <span t-field="line.discounted_unit_price"/>
            </td>
        </xpath>
        <xpath expr="//tr[hasclass('border-black')]" position="after">
            <t t-if="o.print_discount" groups="sale.group_discount_per_so_line">
                <tr>
                    <td>Total Discount</td> 
                    <td class="text-right">
                        <span t-field="o.discount_amount"
                            t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                </tr>
            </t>
        </xpath>
    </template>


</odoo>
 